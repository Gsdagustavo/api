<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cachacaria API Documentation</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; padding: 20px; max-width: 1000px; margin: auto; }
        h1,h2,h3 { color: #333; }
        pre { background: #f4f4f4; padding: 10px; border-radius: 5px; overflow-x: auto; }
        code { color: #c7254e; background: #f9f2f4; padding: 2px 4px; border-radius: 3px; }
        .endpoint { margin-bottom: 40px; }
        ul { margin-top: 0; }
    </style>
</head>
<body>

<h1>Cachacaria API Documentation</h1>
<p>This guide explains all available endpoints in the Cachacaria API. You will find step-by-step instructions, example requests, and example responses for each endpoint.</p>
<p>All responses are in <code>JSON</code>. For POST/PUT requests, always set <code>Content-Type: application/json</code>.</p>

<!-- ================= USERS ================= -->
<h2>Users</h2>

<div class="endpoint">
    <h3>1. Get All Users</h3>
    <p><strong>Method:</strong> GET</p>
    <p><strong>URL:</strong> <code>/users</code></p>
    <p><strong>Parameters:</strong> None</p>
    <pre><code>curl -X GET http://localhost:8080/users</code></pre>
    <p><strong>Example Response:</strong></p>
    <pre><code>[
  {"ID":1,"Name":"John Doe","Email":"john@example.com","Phone":"123456789","IsAdm":true}
]</code></pre>
    <p><strong>Notes:</strong> Returns an empty list if no users exist.</p>
</div>

<div class="endpoint">
    <h3>2. Get User by ID</h3>
    <p><strong>Method:</strong> GET</p>
    <p><strong>URL:</strong> <code>/users/id?id=&lt;user_id&gt;</code></p>
    <p><strong>Parameters:</strong> <code>id</code> (integer, required)</p>
    <pre><code>curl -X GET "http://localhost:8080/users/id?id=1"</code></pre>
    <p><strong>Example Response:</strong></p>
    <pre><code>{
  "ID":1,
  "Name":"John Doe",
  "Email":"john@example.com",
  "Phone":"123456789",
  "IsAdm":true
}</code></pre>
    <p><strong>Notes:</strong> Returns 404 if user is not found.</p>
</div>

<div class="endpoint">
    <h3>3. Add User</h3>
    <p><strong>Method:</strong> POST</p>
    <p><strong>URL:</strong> <code>/users/add</code></p>
    <p><strong>Body:</strong></p>
    <pre><code>{
  "name":"John Doe",
  "email":"john@example.com",
  "password":"password123",
  "phone":"123456789",
  "is_adm":true
}</code></pre>
    <pre><code>curl -X POST http://localhost:8080/users/add \
  -H "Content-Type: application/json" \
  -d '{"name":"John Doe","email":"john@example.com","password":"password123","phone":"123456789","is_adm":true}'</code></pre>
    <p><strong>Response Example:</strong></p>
    <pre><code>{
  "ID":1,
  "Name":"John Doe",
  "Email":"john@example.com",
  "Phone":"123456789",
  "IsAdm":true
}</code></pre>
    <p><strong>Notes:</strong> Returns 409 if email already exists.</p>
</div>

<div class="endpoint">
    <h3>4. Update User</h3>
    <p><strong>Method:</strong> PUT</p>
    <p><strong>URL:</strong> <code>/users/update?id=&lt;user_id&gt;</code></p>
    <p><strong>Body:</strong></p>
    <pre><code>{
  "name":"John Updated",
  "email":"john@example.com",
  "password":"newpassword",
  "phone":"987654321",
  "is_adm":false
}</code></pre>
    <pre><code>curl -X PUT "http://localhost:8080/users/update?id=1" \
  -H "Content-Type: application/json" \
  -d '{"name":"John Updated","email":"john@example.com","password":"newpassword","phone":"987654321","is_adm":false}'</code></pre>
    <p><strong>Response Example:</strong></p>
    <pre><code>{
  "ID":1,
  "Name":"John Updated",
  "Email":"john@example.com",
  "Phone":"987654321",
  "IsAdm":false
}</code></pre>
    <p><strong>Notes:</strong> Returns 404 if user ID is not found.</p>
</div>

<div class="endpoint">
    <h3>5. Delete User</h3>
    <p><strong>Method:</strong> DELETE</p>
    <p><strong>URL:</strong> <code>/users/delete?id=&lt;user_id&gt;</code></p>
    <p><strong>Parameters:</strong> <code>id</code> (required)</p>
    <pre><code>curl -X DELETE "http://localhost:8080/users/delete?id=1"</code></pre>
    <p><strong>Response Example:</strong></p>
    <pre><code>{ "ID":1 }</code></pre>
    <p><strong>Notes:</strong> Deletes the user permanently.</p>
</div>

<!-- ================= PRODUCTS ================= -->
<h2>Products</h2>

<div class="endpoint">
    <h3>1. Get All Products</h3>
    <p><strong>Method:</strong> GET</p>
    <p><strong>URL:</strong> <code>/products</code></p>
    <p><strong>Parameters:</strong> None</p>
    <pre><code>curl -X GET http://localhost:8080/products</code></pre>
    <p><strong>Example Response:</strong></p>
    <pre><code>[
  {"ID":1,"Name":"Cachaça Premium","Description":"A fine cachaça","Price":50,"Type":"Aged","Origin":"Brazil","Manufacturer":"Distillery X","Award":"Gold"}
]</code></pre>
</div>

<div class="endpoint">
    <h3>2. Add Product</h3>
    <p><strong>Method:</strong> POST</p>
    <p><strong>URL:</strong> <code>/products/add</code></p>
    <p><strong>Body:</strong></p>
    <pre><code>{
  "name":"Cachaça Premium",
  "description":"A fine cachaça",
  "price":50,
  "type":"Aged",
  "origin":"Brazil",
  "manufacturer":"Distillery X",
  "award":"Gold"
}</code></pre>
    <pre><code>curl -X POST http://localhost:8080/products/add \
  -H "Content-Type: application/json" \
  -d '{"name":"Cachaça Premium","description":"A fine cachaça","price":50,"type":"Aged","origin":"Brazil","manufacturer":"Distillery X","award":"Gold"}'</code></pre>
    <p><strong>Response Example:</strong></p>
    <pre><code>{
  "ID":1,
  "Name":"Cachaça Premium",
  "Price":50,
  "Type":"Aged"
}</code></pre>
</div>

<!-- ================= ORDERS ================= -->
<h2>Orders</h2>

<div class="endpoint">
    <h3>1. Get All Orders</h3>
    <p><strong>Method:</strong> GET</p>
    <p><strong>URL:</strong> <code>/orders</code></p>
    <pre><code>curl -X GET http://localhost:8080/orders</code></pre>
    <p><strong>Response Example:</strong></p>
    <pre><code>[
  {"ID":1,"UserID":1,"Status":"pending","Date":"2025-08-24T10:00:00Z"}
]</code></pre>
</div>

<div class="endpoint">
    <h3>2. Add Order</h3>
    <p><strong>Method:</strong> POST</p>
    <p><strong>URL:</strong> <code>/orders/add</code></p>
    <p><strong>Body:</strong></p>
    <pre><code>{
  "user_id":1,
  "status":"pending",
  "date":"2025-08-24T10:00:00Z"
}</code></pre>
    <pre><code>curl -X POST http://localhost:8080/orders/add \
  -H "Content-Type: application/json" \
  -d '{"user_id":1,"status":"pending","date":"2025-08-24T10:00:00Z"}'</code></pre>
    <p><strong>Response Example:</strong></p>
    <pre><code>{
  "ID":1,
  "UserID":1,
  "Status":"pending",
  "Date":"2025-08-24T10:00:00Z"
}</code></pre>
</div>

<!-- ================= ORDER_PRODUCTS ================= -->
<h2>Order Products (many-to-many)</h2>

<div class="endpoint">
    <h3>1. Add Product to Order</h3>
    <p><strong>Method:</strong> POST</p>
    <p><strong>URL:</strong> <code>/order_products/add</code></p>
    <p><strong>Body:</strong></p>
    <pre><code>{
  "order_id":1,
  "product_id":1
}</code></pre>
    <pre><code>curl -X POST http://localhost:8080/order_products/add \
  -H "Content-Type: application/json" \
  -d '{"order_id":1,"product_id":1}'</code></pre>
    <p><strong>Response Example:</strong></p>
    <pre><code>{
  "OrderID":1,
  "ProductID":1
}</code></pre>
</div>

<p><em>All endpoints return JSON. For POST/PUT requests, ensure your body is valid JSON and <code>Content-Type: application/json</code> header is set.</em></p>

</body>
</html>
